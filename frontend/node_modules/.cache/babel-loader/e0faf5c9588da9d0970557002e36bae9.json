{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sadi\\\\Desktop\\\\ITPM\\\\Garment_Factory_Management\\\\Garment_Factory_Management\\\\frontend\\\\src\\\\Stock\\\\AddDStock.js\";\nimport React from 'react';\nimport Sidebar from '../Components/Sidebar';\nimport { FormInput, FormSelect, MultiFormSelect } from '../Components/Form';\nimport moment from 'moment';\nimport { omit } from 'lodash';\nimport MAC_CONTROLLER from '../Controllers/DStock.Controller';\nimport CONFIG from '../Controllers/Config.Controller';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddDStock extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.formValueChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.clear = () => {\n      this.setState({\n        ItemCode: '',\n        Description: '',\n        Price: '',\n        Month: ''\n      });\n    };\n\n    this.onFormSubmit = async e => {\n      e.preventDefault();\n      var ret = this.validate();\n      console.log(ret);\n\n      if (ret == false) {\n        console.log(\"Before\");\n        return \"\";\n      }\n\n      console.log(\"After\");\n      var data = {\n        ItemCode: this.state.ItemCode,\n        Description: this.state.Description,\n        Price: this.state.Price,\n        Month: this.state.Month\n      };\n      const result = await MAC_CONTROLLER.addDStock(data);\n      console.log(result);\n\n      if (result == 200) {\n        CONFIG.showAlert(\"Damaged Stock Added\");\n        this.clear();\n      }\n    };\n\n    this.validate = () => {\n      let {\n        ItemCode,\n        Description,\n        Price,\n        Month\n      } = this.state;\n      let count = 0;\n      let errors = {};\n\n      if (ItemCode == '') {\n        errors.ItemCode = true;\n        count++;\n      } else {\n        errors.ItemCode = false;\n      }\n\n      if (Description == '') {\n        errors.Description = true;\n        count++;\n      } else {\n        errors.Description = false;\n      }\n\n      if (Price == '') {\n        errors.Price = true;\n        count++;\n      } else {\n        errors.Price = false;\n      }\n\n      if (Month == '') {\n        errors.Month = true;\n        count++;\n      } else {\n        errors.Month = false;\n      }\n\n      this.setState({\n        errors\n      });\n      return count == 0;\n    };\n\n    this.ResetForm = () => {\n      this.setState({\n        ItemCode: '',\n        Description: '',\n        Price: '',\n        Month: ''\n      });\n    };\n\n    this.state = {\n      ItemCode: '',\n      Description: '',\n      Price: '',\n      Month: '',\n      errors: {\n        ItemCode: false,\n        Description: false,\n        Price: false,\n        Month: false\n      }\n    };\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        activemenu: 'STOCK',\n        submenu: 'ADD_DSTOCK'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 shadow-sm rounded bg-white mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-header py-3 mb-0 font-weight-bold line-hight-1\",\n                children: \"Add Damaged Stock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12 shadow-sm rounded bg-white mt-3 pb-1\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: e => this.onFormSubmit(e),\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row mt-1 pb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6 mt-1 mb-1\",\n                      children: /*#__PURE__*/_jsxDEV(FormInput, {\n                        label: 'ItemCode',\n                        placeholder: 'Enter Item code',\n                        error: errors.ItemCode,\n                        pattern: \"[V]{1}[0-9]{4}\",\n                        name: \"ItemCode\",\n                        value: this.state.ItemCode,\n                        onChange: this.formValueChange,\n                        error_meesage: '*Item Code is required'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 90,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6 mt-1 mb-1\",\n                      children: /*#__PURE__*/_jsxDEV(FormSelect, {\n                        label: 'Description',\n                        options: AT_OPTIONS2,\n                        error: errors.Description,\n                        selected: this.state.Description,\n                        onChange: this.formValueChange,\n                        name: \"Description\",\n                        error_meesage: '*Description is required'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 103,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6 mt-1 mb-1\",\n                      children: /*#__PURE__*/_jsxDEV(FormInput, {\n                        label: 'Price',\n                        placeholder: 'Enter Price',\n                        error: errors.Price,\n                        name: \"Price\",\n                        type: \"number\",\n                        value: this.state.Price,\n                        onChange: this.formValueChange,\n                        error_meesage: '*Price is required'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6 mt-1 mb-1\",\n                      children: /*#__PURE__*/_jsxDEV(FormSelect, {\n                        label: 'Month',\n                        options: AT_OPTIONS,\n                        error: errors.Month,\n                        selected: this.state.Month,\n                        onChange: this.formValueChange,\n                        name: \"Month\",\n                        error_meesage: '*Month is required'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 127,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12 mt-1 mb-1\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"submit\",\n                        className: \"btn btn-primary rounded-0\",\n                        children: \"Submit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 141,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nconst AT_OPTIONS2 = [{\n  label: 'Description',\n  value: \"\"\n}, ...['loose buttons', 'Difference in fabric colors', 'raw edges', 'Improper button holes', 'Uneven parts', 'Faulty zipper', 'irregular hemming', 'broken stitches', 'Skipped stitches', 'Uncut/loose thread', 'Needle thread breakage', 'Seam slippage', 'Distored knitting', 'Opean/brocken seam', 'other'].map(i => {\n  return {\n    label: i,\n    value: i\n  };\n})];\nconst AT_OPTIONS = [{\n  label: 'Select Month',\n  value: \"\"\n}, ...['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'].map(i => {\n  return {\n    label: i,\n    value: i\n  };\n})];\nexport default AddDStock;","map":{"version":3,"sources":["C:/Users/Sadi/Desktop/ITPM/Garment_Factory_Management/Garment_Factory_Management/frontend/src/Stock/AddDStock.js"],"names":["React","Sidebar","FormInput","FormSelect","MultiFormSelect","moment","omit","MAC_CONTROLLER","CONFIG","AddDStock","Component","constructor","props","formValueChange","e","setState","target","name","value","clear","ItemCode","Description","Price","Month","onFormSubmit","preventDefault","ret","validate","console","log","data","state","result","addDStock","showAlert","count","errors","ResetForm","render","AT_OPTIONS2","AT_OPTIONS","label","map","i"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Sidebar from '../Components/Sidebar'\r\nimport {FormInput , FormSelect , MultiFormSelect} from '../Components/Form'\r\nimport moment from 'moment';\r\nimport { omit } from 'lodash'\r\nimport MAC_CONTROLLER from '../Controllers/DStock.Controller';\r\nimport CONFIG from '../Controllers/Config.Controller';\r\n\r\n\r\n\r\n\r\n\r\nclass AddDStock extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ItemCode: '',\r\n            Description: '',\r\n            Price: '',\r\n            Month: '',\r\n           \r\n            errors : { \r\n                ItemCode : false , \r\n                Description : false ,\r\n                Price : false ,\r\n                Month : false ,\r\n               \r\n            }\r\n        };\r\n    }\r\n\r\n    formValueChange = (e) => {\r\n        this.setState({[e.target.name] : e.target.value  });\r\n    }\r\n\r\n    clear = ()=>{\r\n        this.setState({\r\n            ItemCode: '',\r\n            Description: '',\r\n            Price: '',\r\n            Month: '',\r\n            \r\n        })\r\n    }\r\n\r\n    onFormSubmit = async (e) => {\r\n        e.preventDefault();\r\n        var ret = this.validate();\r\n        console.log(ret);\r\n        if (ret == false){\r\n            console.log(\"Before\");\r\n            return \"\";\r\n        }\r\n\r\n        console.log(\"After\");\r\n        var data = {\r\n            ItemCode: this.state.ItemCode,\r\n            Description: this.state.Description,\r\n            Price: this.state.Price,\r\n            Month: this.state.Month,\r\n            \r\n        }\r\n\r\n        const result = await MAC_CONTROLLER.addDStock(data)\r\n\r\n        console.log(result);\r\n\r\n        if(result == 200){\r\n            CONFIG.showAlert(\"Damaged Stock Added\")\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {errors} = this.state;\r\n    return (\r\n\r\n        <div className=\"app\" >\r\n        <Sidebar activemenu={'STOCK'} submenu={'ADD_DSTOCK'} />\r\n        <main>\r\n            <div className=\"container-fluid\" >\r\n            <div className=\"row\" >\r\n                <div className=\"col-12 shadow-sm rounded bg-white mt-1\" >\r\n                    <h2 className=\"text-header py-3 mb-0 font-weight-bold line-hight-1\">Add Damaged Stock</h2>\r\n                    <div className=\"col-12 shadow-sm rounded bg-white mt-3 pb-1\" >\r\n                <form onSubmit={(e) => this.onFormSubmit(e)}>\r\n                <div className=\"row mt-1 pb-3\" >\r\n                    <div className=\"col-md-6 mt-1 mb-1\" >\r\n                            <FormInput \r\n                                label={'ItemCode'}\r\n                                placeholder={'Enter Item code'}\r\n                                error={ errors.ItemCode}\r\n                                pattern=\"[V]{1}[0-9]{4}\"\r\n                                name=\"ItemCode\"\r\n                                value={this.state.ItemCode}\r\n                                onChange={this.formValueChange}\r\n                                error_meesage={'*Item Code is required'}\r\n                            />\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6 mt-1 mb-1\" >\r\n                            <FormSelect \r\n                                label={'Description'}\r\n                                options={AT_OPTIONS2}\r\n                                error={ errors.Description}\r\n                                selected={this.state.Description}\r\n                                onChange={this.formValueChange}\r\n                                name=\"Description\"\r\n                                error_meesage={'*Description is required'}\r\n                            />\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6 mt-1 mb-1\" >\r\n                            <FormInput \r\n                                label={'Price'}\r\n                                placeholder={'Enter Price'}\r\n                                error={ errors.Price}\r\n                                name=\"Price\"\r\n                                type=\"number\"\r\n                                value={this.state.Price}\r\n                                onChange={this.formValueChange}\r\n                                error_meesage={'*Price is required'}\r\n                            />\r\n                    </div>\r\n                    <div className=\"col-md-6 mt-1 mb-1\" >\r\n                        <FormSelect \r\n                                label={'Month'}\r\n                                options={AT_OPTIONS}\r\n                                error={ errors.Month}\r\n                                selected={this.state.Month}\r\n                                onChange={this.formValueChange}\r\n                                name=\"Month\"\r\n                                error_meesage={'*Month is required'}\r\n                            />\r\n                    </div>\r\n                   \r\n\r\n                   \r\n                    <div className=\"col-md-12 mt-1 mb-1\" >\r\n                            <button type=\"submit\" className=\"btn btn-primary rounded-0\">Submit</button>\r\n                            {/* <button type=\"reset\" className=\"btn-outline-secondary mt-2 btn btn-sm px-2 \" onClick={this.clear}>Reset</button> */}\r\n                    </div>\r\n                </div>\r\n                </form>\r\n                </div>\r\n                    \r\n                </div>\r\n                \r\n            </div>\r\n            </div>\r\n        </main>\r\n        \r\n    </div>\r\n\r\n    );}\r\n\r\n    validate = () => {\r\n        let { ItemCode, Description, Price, Month} = this.state;\r\n        let count = 0;\r\n        let errors = {}\r\n\r\n        if( ItemCode == ''){\r\n            errors.ItemCode = true\r\n            count++\r\n        }else{\r\n            errors.ItemCode = false \r\n        }\r\n\r\n        if( Description == ''){\r\n            errors.Description = true\r\n            count++\r\n        }else{\r\n            errors.Description = false \r\n        }\r\n\r\n        if( Price == ''){\r\n            errors.Price = true\r\n            count++\r\n        }else{\r\n            errors.Price = false \r\n        }\r\n\r\n        if( Month == ''){\r\n            errors.Month = true\r\n            count++\r\n        }else{\r\n            errors.Month = false \r\n        }\r\n\r\n       \r\n       \r\n        this.setState({errors})\r\n        return count == 0;\r\n    }\r\n\r\n    ResetForm = () => {\r\n        this.setState(\r\n            {\r\n                ItemCode: '',\r\n                Description: '',\r\n                Price: '',\r\n                Month: ''\r\n                \r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst AT_OPTIONS2 = [{ label : 'Description' ,value : \"\" } , \r\n...['loose buttons',  'Difference in fabric colors', 'raw edges', 'Improper button holes', 'Uneven parts', 'Faulty zipper', 'irregular hemming', 'broken stitches', 'Skipped stitches', 'Uncut/loose thread', 'Needle thread breakage', 'Seam slippage', 'Distored knitting', 'Opean/brocken seam', 'other' ].map( i => {\r\n    return{\r\n        label :  i  ,\r\n         value : i \r\n    }\r\n})];\r\nconst AT_OPTIONS = [{ label : 'Select Month' ,value : \"\" } , \r\n...['January',  'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November','December'].map( i => {\r\n    return{\r\n        label :  i  ,\r\n         value : i \r\n    }\r\n})];\r\n\r\nexport default AddDStock;"]},"metadata":{},"sourceType":"module"}